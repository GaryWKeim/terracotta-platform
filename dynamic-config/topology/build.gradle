import org.gradle.api.JavaVersion

/*
 * Copyright (c) 2011-2019 Software AG, Darmstadt, Germany and/or Software AG USA Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors.
 * Use, reproduction, transfer, publication or disclosure is prohibited except as specifically provided for in your License Agreement with Software AG.
 */

// NOTE: DO NOT DELETE THE FOLLOWING. IT WILL BE USEFUL TO REGENERATE CLASSES IN XMLOBJECTS PACKAGE
//plugins {
//  id 'org.unbroken-dome.xjc' version '1.2.0'
//}

apply plugin: TcDeploy

dependencies {

  // NOTE: DO NOT DELETE THE FOLLOWING. IT WILL BE USEFUL TO REGENERATE CLASSES IN XMLOBJECTS PACKAGE
//  xjcEpisode "org.terracotta:tcconfig-schema:$terracottaConfigVersion"

  compileOnly "org.terracotta:tcconfig-schema:$terracottaConfigVersion"
  compileOnly "org.terracotta.internal:tc-config-parser:$terracottaConfigVersion"
}

// NOTE: DO NOT DELETE THE FOLLOWING. IT WILL BE USEFUL TO REGENERATE CLASSES IN XMLOBJECTS PACKAGE
//xjcGenerate {
//  source = fileTree('src/main/resources') { include '*.xsd' }
//  catalogs = fileTree('src/main/catalog') { include '*.cat' }
//  targetPackage = 'org.terracotta.dynamic_config.xml.topology.config.xmlobjects'
//  extension = true
//}

javadoc {
  if (JavaVersion.current().compareTo(JavaVersion.VERSION_1_8) > 0 ) {
    options.addStringOption('-add-modules', 'java.xml.bind')
  }
}

test {
  if ( JavaVersion.current().compareTo(JavaVersion.VERSION_1_8) > 0 ) {
    jvmArgs '--add-modules', 'java.xml.bind'
  }
}
